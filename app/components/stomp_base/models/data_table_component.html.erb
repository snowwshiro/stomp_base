<%# Records Table %>
<div class="stomp-base-card mb-0 p-0">
  <!-- Table Header -->
  <div class="bg-gradient-to-r from-gray-600 to-gray-700 p-3 px-6 flex justify-between items-center">
    <h3 class="text-sm font-semibold text-white flex items-center m-0">
      <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M3 6h18m-9 8h9"></path>
      </svg>
      <%= t('stomp_base.models.data') %>
    </h3>
    <% if pagination? %>
      <div class="text-gray-200 text-xs">
        <%= t('stomp_base.models.pagination.page') %> <%= current_page %> <%= t('stomp_base.models.pagination.of') %> <%= total_pages %>
        (<%= t('stomp_base.models.pagination.showing') %> <%= records.size %> <%= t('stomp_base.models.pagination.items') %>)
      </div>
    <% end %>
  </div>

  <% if records.any? %>
    <!-- Table Content -->
    <div class="p-6 overflow-x-auto">
      <table class="w-full border-collapse text-sm">
        <thead>
          <tr class="bg-gradient-to-br from-slate-50 to-slate-200 border-b-2 border-slate-200">
            <% columns.each do |column| %>
              <th class="p-3 text-left whitespace-nowrap font-semibold text-gray-700">
                <div class="flex flex-col gap-1">
                  <span><%= column.humanize %></span>
                  <span class="stomp-base-badge <%= column_type_badge_color(column) %> text-xs py-0.5 px-1.5 font-medium rounded-full">
                    <%= column_type(column) %>
                  </span>
                </div>
              </th>
            <% end %>
          </tr>
        </thead>
        <tbody>
          <% records.each_with_index do |record, index| %>
            <tr class="border-b border-gray-200 <%= 'bg-gray-50' if index.even? %>">
              <% columns.each do |column| %>
                <td class="p-3 max-w-[200px] overflow-hidden text-ellipsis align-top">
                  <%= format_cell_value(record.send(column)) %>
                </td>
              <% end %>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  <% else %>
    <!-- No Records -->
    <div class="py-12 text-center">
      <svg class="w-16 h-16 text-gray-500 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
      </svg>
      <h3 class="text-lg font-semibold text-gray-900 mb-2"><%= t('stomp_base.models.no_records') %></h3>
      <p class="text-sm text-gray-500 m-0">このモデルにはレコードがありません。</p>
    </div>
  <% end %>
</div>
